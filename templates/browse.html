<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>File Browser</title>
  </head>
  <body>
    <h1>File Browser</h1>
    <p>Current path: /{{ current_path }}</p>
    <ul>
      {% if current_path %}
        <li><a href="{{ url_for('files.browse', subpath='') }}">/ (root)</a></li>
        <li><a href="{{ url_for('files.browse', subpath=(current_path.rsplit('/',1)[0] if '/' in current_path else '')) }}">.. (up)</a></li>
      {% endif %}
      {% for e in entries %}
        <li>
          {% if e.is_dir %}
            ğŸ“ <a href="{{ url_for('files.browse', subpath=(current_path + '/' if current_path else '') + e.name) }}">{{ e.name }}/</a>
          {% else %}
            ğŸ“„ <a href="{{ url_for('files.download_file', filename=(current_path + '/' if current_path else '') + e.name) }}">{{ e.name }}</a>
            â€” {{ e.size }} bytes
          {% endif %}
        </li>
      {% endfor %}
    </ul>
  </body>
</html>